---
title: "Case Study"
author: "Rifa"
date: "12/6/2020"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(data.table)
library(magrittr)
library(ggplot2)
```

Add a new chunk by clicking the *Insert Chunk* button on the toolbar or by pressing *Ctrl+Alt+I*.

When you save the notebook, an HTML file containing the code and output will be saved alongside it (click the *Preview* button or press *Ctrl+Shift+K* to preview the HTML file).

Load all the tables
```{r}
tables = list.files("data/", full.names = T)
tables
```
Read individual csv files   
```{r}
case_dt = fread(tables[1])
pinfo_dt = fread(tables[2])
policy_dt = fread(tables[3])
region_dt = fread(tables[4])
search_dt = fread(tables[5])
seoul_dt = fread(tables[6])
time_dt = fread(tables[7])
tage_dt = fread(tables[8])
tgender_dt = fread(tables[9])
tprovince_dt = fread(tables[10])
weather_dt = fread(tables[11])
```

### VISUALIZING TREND IN NUMBER OF CASES FOR VARIOUS PROVINCES
```{r}
head(tprovince_dt,n=5)
```
```{r}
summary(tprovince_dt)
```
```{r}
#Printing the name of the various provinces
tprovince_dt[, unique(province)]
```
```{r}
# Filtering out provinces with no cases
province_cases<-tprovince_dt[, .(number_of_cases=max(confirmed)), by='province']
province_cases
```
```{r}
# Plotting a bar graph for number of total cases for various provinces 
ggplot(province_cases, aes(x=province, y=number_of_cases , fill=province)) + geom_bar(stat='identity') + coord_flip() + theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))+
labs(x='Province', y='Total number of confirmed cases')
```
```{r}
# Plotting at the total number of cases for each province
ggplot(tprovince_dt, aes(x=date, y=confirmed, color=province)) + geom_line() + geom_point() +
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1)) +
labs(x='Date', y='Number of confirmed cases')
```
The number of cases is quite high (in thousands) for some provinces and comparatively smaller (in hundreds or less) for other provinces. For bettaer visualization of the growth in number of cases, we look at individual provinces. 

#### Growth of total number of cases for various provinces
##### Seoul
```{r}
tprovince_Seoul=tprovince_dt[province=="Seoul"]
tprovince_Seoul
```





















